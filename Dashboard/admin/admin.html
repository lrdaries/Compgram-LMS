<!-- filepath: c:\Users\ARIES\Desktop\New folder (6)\Compgram Dash\Dashboard\admin\admin.html -->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Compgram Admin Dashboard</title>

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <link rel="apple-touch-icon" sizes="180x180" href="/favicon_io (1)/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon_io (1)/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon_io (1)/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
</head>
<body class="bg-gray-100 min-h-screen font-sans dark:bg-gray-900 dark:text-white">

  <!-- Header -->
  <header class="flex justify-between items-center bg-white shadow p-4 dark:bg-gray-800">
    <div class="flex items-center">
      <div class="text-2xl font-bold text-blue-600 dark:text-blue-400">Compgram Admin</div>
    </div>

    <div class="flex items-center space-x-4">
      <div class="relative flex items-center space-x-2">
        <div class="absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full"></div>
        <img src="https://media.geeksforgeeks.org/wp-content/uploads/20221210183322/8.png" class="w-6 h-6" alt="">
        <a href="#" class="text-gray-700 hover:underline text-sm dark:text-gray-300">
          <h4>Admin</h4>
        </a>
        <div>
          <img src="https://media.geeksforgeeks.org/wp-content/uploads/20221210180014/profile-removebg-preview.png" class="w-8 h-8 rounded-full" alt="dp">
        </div>
      </div>
    </div>
  </header>

  <!-- Sidebar + Main -->
  <div class="flex">

    <!-- Sidebar -->
    <nav id="sidebar" class="w-64 bg-white shadow-lg min-h-screen p-6 dark:bg-gray-800 md:block">
      <div class="space-y-6">
        <a href="/Dashboard/admin/admin.html" class="block text-lg font-semibold text-gray-700 hover:text-blue-500 dark:text-gray-300 dark:hover:text-blue-400 transition-colors">Dashboard</a>
        <a href="/Dashboard/admin/upload.html" class="block text-lg font-semibold text-gray-700 hover:text-blue-500 dark:text-gray-300 dark:hover:text-blue-400 transition-colors">Upload Content</a>
        <a href="/Dashboard/admin/manage.html" class="block text-lg font-semibold text-gray-700 hover:text-blue-500 dark:text-gray-300 dark:hover:text-blue-400 transition-colors">Manage Users</a>
        <button onclick="logout()" class="block text-lg font-semibold text-red-500 hover:text-red-700 mt-10 dark:text-red-400 dark:hover:text-red-500 transition-colors">Logout</button>
        <script>
          function logout() {
            alert("You have been logged out.");
            window.location.href = "/login/login.html";
          }
        </script>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-1 p-6">

      <!-- Sliding Text -->
      <div class="bg-gray-200 text-gray-700 p-4 rounded mb-6 text-center text-lg dark:bg-gray-700 dark:text-white">
        <marquee behavior="scroll" direction="left">
          Welcome to the Admin Dashboard! Manage content and users effectively.
        </marquee>
      </div>

      <!-- Upload Assignment Section -->
      <div class="bg-white p-6 rounded-lg shadow dark:bg-gray-800">
        <h1 class="text-xl font-bold text-gray-700 dark:text-white mb-4">Upload Assignments</h1>
        <form action="/upload-assignment" method="POST" enctype="multipart/form-data" class="space-y-4">
          <div>
            <label for="assignment-title" class="block text-gray-700 dark:text-gray-300">Assignment Title</label>
            <input type="text" id="assignment-title" name="title" class="w-full border rounded-lg py-2 px-4 dark:bg-gray-700 dark:text-white focus:outline-none" required>
          </div>
          <div>
            <label for="assignment-description" class="block text-gray-700 dark:text-gray-300">Description</label>
            <textarea id="assignment-description" name="description" rows="4" class="w-full border rounded-lg py-2 px-4 dark:bg-gray-700 dark:text-white focus:outline-none" required></textarea>
          </div>
          <div>
            <label for="assignment-file" class="block text-gray-700 dark:text-gray-300">Upload File</label>
            <input type="file" id="assignment-file" name="file" class="w-full border rounded-lg py-2 px-4 dark:bg-gray-700 dark:text-white focus:outline-none" required>
          </div>
          <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 dark:bg-blue-400 dark:hover:bg-blue-500 transition-all">Upload Assignment</button>
        </form>
        <script>
          document.querySelector('form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const formData = new FormData(e.target);

            try {
              const response = await fetch('/upload-assignment', {
          method: 'POST',
          body: formData,
              });

              if (response.ok) {
          alert('Assignment uploaded successfully!');
          // Optionally, redirect or update the assignments table in assignment.html
          window.location.href = '/Dashboard/student/assignment.html';
              } else {
          alert('Failed to upload assignment. Please try again.');
              }
            } catch (error) {
              console.error('Error uploading assignment:', error);
              alert('An error occurred. Please try again.');
            }
          });
        </script>
        
      </div>
      <div>
        <!-- Upload Exam Section -->
        <div class="bg-white p-6 rounded-lg shadow dark:bg-gray-800 mt-8">
          <h1 class="text-xl font-bold text-gray-700 dark:text-white mb-4">Upload Exams</h1>
          <form action="/upload-exam" method="POST" enctype="multipart/form-data" class="space-y-4">
            <div>
              <label for="exam-week" class="block text-gray-700 dark:text-gray-300">Week</label>
              <input type="text" id="exam-week" name="week" class="w-full border rounded-lg py-2 px-4 dark:bg-gray-700 dark:text-white focus:outline-none" required>
            </div>
            <div>
              <label for="exam-topic" class="block text-gray-700 dark:text-gray-300">Topic</label>
              <input type="text" id="exam-topic" name="topic" class="w-full border rounded-lg py-2 px-4 dark:bg-gray-700 dark:text-white focus:outline-none" required>
            </div>
            <div>
              <label for="exam-subtopic" class="block text-gray-700 dark:text-gray-300">Sub-Topic</label>
              <input type="text" id="exam-subtopic" name="subtopic" class="w-full border rounded-lg py-2 px-4 dark:bg-gray-700 dark:text-white focus:outline-none" required>
            </div>
            <div>
              <label for="exam-file" class="block text-gray-700 dark:text-gray-300">Upload File</label>
              <input type="file" id="exam-file" name="file" class="w-full border rounded-lg py-2 px-4 dark:bg-gray-700 dark:text-white focus:outline-none" required>
            </div>
            <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 dark:bg-blue-400 dark:hover:bg-blue-500 transition-all">Upload Exam</button>
          </form>
          <script>
            document.querySelector('form').addEventListener('submit', async (e) => {
              e.preventDefault();
              const formData = new FormData(e.target);

              try {
                const response = await fetch('/upload-exam', {
                  method: 'POST',
                  body: formData,
                });

                if (response.ok) {
                  alert('Exam uploaded successfully!');
                  // Optionally, redirect or update the exams table in exam.html
                  window.location.href = '/Dashboard/student/exam.html';
                } else {
                  alert('Failed to upload exam. Please try again.');
                }
              } catch (error) {
                console.error('Error uploading exam:', error);
                alert('An error occurred. Please try again.');
              }
            });
          </script>
        </div>
      </div>
    </main>
  </div>

</body>